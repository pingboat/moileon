<!DOCTYPE html>
<html lang="{{ .Site.LanguageCode | default "en" }}">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>{{ if .IsHome }}{{ .Site.Title }}{{ else }}{{ .Title }} | {{ .Site.Title }}{{ end }}</title>
    
    <!-- Main CSS -->
    <link rel="stylesheet" href="{{ "css/style.css" | relURL }}">
    
    {{ if .Site.Params.favicon }}
    <link rel="icon" type="image/x-icon" href="{{ .Site.Params.favicon | relURL }}">
    {{ end }}
</head>
<body>
    <!-- Mobile hamburger button -->
    <button class="hamburger-btn" id="hamburgerBtn">
        <div class="hamburger-icon">
            <span></span>
            <span></span>
            <span></span>
        </div>
    </button>

    <!-- Mobile overlay -->
    <div class="mobile-overlay" id="mobileOverlay"></div>

    <div class="container">
        <!-- Sidebar Navigation -->
        <nav class="sidebar" id="sidebar">
            <a href="{{ "/" | relURL }}" class="nav-button {{ if .IsHome }}active{{ end }}">Home</a>
            <a href="{{ "/blog/" | relURL }}" class="nav-button {{ if eq .Section "blog" }}active{{ end }}">Blog</a>
            <a href="{{ "/booknotes/" | relURL }}" class="nav-button {{ if eq .Section "booknotes" }}active{{ end }}">Book Notes</a>
            <a href="{{ "/projects/" | relURL }}" class="nav-button {{ if eq .Section "projects" }}active{{ end }}">Projects</a>
            <a href="{{ "/digital/" | relURL }}" class="nav-button {{ if eq .Section "digital" }}active{{ end }}">Digital</a>
            <a href="{{ "/podcast/" | relURL }}" class="nav-button {{ if eq .Section "podcast" }}active{{ end }}">Podcast</a>
            <a href="{{ "/lenscape/" | relURL }}" class="nav-button {{ if eq .Section "lenscape" }}active{{ end }}">Lenscape</a>
        </nav>

        <!-- Main Content -->
        <main class="main-content">
            {{ block "main" . }}{{ end }}
        </main>
    </div>

    <!-- JavaScript -->
    <script>
        // Mobile navigation toggle
        document.addEventListener('DOMContentLoaded', function() {
            const hamburgerBtn = document.getElementById('hamburgerBtn');
            const sidebar = document.getElementById('sidebar');
            const overlay = document.getElementById('mobileOverlay');

            function toggleSidebar() {
                hamburgerBtn.classList.toggle('active');
                sidebar.classList.toggle('active');
                overlay.classList.toggle('active');
            }

            hamburgerBtn.addEventListener('click', toggleSidebar);
            overlay.addEventListener('click', toggleSidebar);

            // Close sidebar on link click (mobile)
            const navLinks = sidebar.querySelectorAll('.nav-button');
            navLinks.forEach(link => {
                link.addEventListener('click', function() {
                    if (window.innerWidth <= 768) {
                        toggleSidebar();
                    }
                });
            });

            // Handle window resize
            window.addEventListener('resize', function() {
                if (window.innerWidth > 768) {
                    hamburgerBtn.classList.remove('active');
                    sidebar.classList.remove('active');
                    overlay.classList.remove('active');
                }
            });
        });
    </script>
    <script src="{{ "js/quiz.js" | relURL }}"></script>
    {{ block "scripts" . }}{{ end }}
</body>
</html>

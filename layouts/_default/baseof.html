<!DOCTYPE html>
<html lang="{{ .Site.LanguageCode | default "en" }}">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>{{ if .IsHome }}{{ .Site.Title }}{{ else }}{{ .Title }}{{ end }}</title>
    
    <!-- Open Graph / Social Media Meta Tags -->
    <meta property="og:title" content="{{ if .IsHome }}{{ .Site.Title }}{{ else }}{{ .Title }}{{ end }}">
    <meta property="og:type" content="{{ if .IsPage }}article{{ else }}website{{ end }}">
    <meta property="og:url" content="{{ .Permalink }}">
    <meta property="og:site_name" content="{{ .Site.Title }}">
    <meta property="og:image" content="https://moileon.in/images/favicon-512x512.png">
    
    <!-- Twitter Card Meta Tags -->
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="{{ if .IsHome }}{{ .Site.Title }}{{ else }}{{ .Title }}{{ end }}">
    <meta name="twitter:image" content="https://moileon.in/images/favicon-1200x675.png">
    
    <!-- Main CSS -->
    <link rel="stylesheet" href="{{ "css/style.css" | relURL }}">
    
    {{ if .Site.Params.favicon }}
    <link rel="icon" type="image/x-icon" href="{{ .Site.Params.favicon | relURL }}">
    {{ end }}
</head>
<body>
    <!-- Mobile hamburger button -->
    <button class="hamburger-btn" id="hamburgerBtn">
        <div class="hamburger-icon">
            <span></span>
            <span></span>
            <span></span>
        </div>
    </button>

    <!-- Mobile overlay -->
    <div class="mobile-overlay" id="mobileOverlay" style="display: none;"></div>

    <div class="container">
        <!-- Sidebar Navigation -->
        <nav class="sidebar" id="sidebar" style="left: -100%; position: fixed; top: 0; width: 250px; height: 100vh; z-index: 1000; transition: left 0.3s ease;">
            <a href="{{ "/" | relURL }}" class="nav-button {{ if .IsHome }}active{{ end }}">Home</a>
            <a href="{{ "/blog/" | relURL }}" class="nav-button {{ if eq .Section "blog" }}active{{ end }}">Blog</a>
            <a href="{{ "/booknotes/" | relURL }}" class="nav-button {{ if eq .Section "booknotes" }}active{{ end }}">Book Notes</a>
            <a href="{{ "/projects/" | relURL }}" class="nav-button {{ if eq .Section "projects" }}active{{ end }}">Projects</a>
            <a href="{{ "/digital/" | relURL }}" class="nav-button {{ if eq .Section "digital" }}active{{ end }}">Digital</a>
            <a href="{{ "/podcast/" | relURL }}" class="nav-button {{ if eq .Section "podcast" }}active{{ end }}">Podcast</a>
            <a href="{{ "/quotes/" | relURL }}" class="nav-button {{ if eq .Section "quotes" }}active{{ end }}">Quotes</a>
            <a href="{{ "/lenscape/" | relURL }}" class="nav-button {{ if eq .Section "lenscape" }}active{{ end }}">Lenscape</a>
            <a href="{{ "/bio/" | relURL }}" class="nav-button {{ if eq .Section "bio" }}active{{ end }}">Bio</a>
            <a href="https://twitter.com/iobyleon" target="_blank" class="nav-button">Twitter</a>
            <a href="https://www.linkedin.com/in/leonkaushik" target="_blank" class="nav-button">Linkedin</a>
        </nav>

        <!-- Main Content -->
        <main class="main-content">
            {{ block "main" . }}{{ end }}
        </main>
    </div>

    <!-- JavaScript -->
    <script src="{{ "js/navigation.js" | relURL }}"></script>
    <script src="{{ "js/quiz.js" | relURL }}"></script>
    {{ block "scripts" . }}{{ end }}

    <!-- Netlify Identity Widget -->
    <script src="https://identity.netlify.com/v1/netlify-identity-widget.js"></script>
    <script>
      if (window.netlifyIdentity) {
        window.netlifyIdentity.on("init", user => {
          if (!user) {
            window.netlifyIdentity.on("login", () => {
              document.location.href = "/admin/";
            });
          }
        });
      }
    </script>
</body>
</html>

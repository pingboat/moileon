<script>
  // Ensure gtag is available for sidebar interactions
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  
  // Only initialize if not already done (avoid duplicate tracking)
  if (!window.gtagInitialized) {
    gtag('js', new Date());
    gtag('config', 'G-EKB8RXSXSG');
    window.gtagInitialized = true;
  }
</script>

<!-- Your existing sidebar navigation buttons -->
<a href="/" class="nav-button">Home</a>
<a href="/blog" class="nav-button">Blog</a>
<a href="/booknotes" class="nav-button">Booknotes</a>
<a href="/projects" class="nav-button">Projects</a>
<a href="/digital" class="nav-button">Digital</a>
<a href="/podcast" class="nav-button">Podcast</a>
<a href="/quotes" class="nav-button">Quotes</a>
<a href="/lenscape" class="nav-button">Lenscape</a>
<a href="/bio" class="nav-button">Bio</a>
<a href="https://x.com/iobyleon" class="nav-button" target="_blank">Twitter</a>
<a href="https://www.linkedin.com/in/leonkaushik" class="nav-button" target="_blank">LinkedIn</a>



<script>
  // Track sidebar interactions immediately when loaded
  document.querySelectorAll('.nav-button').forEach(link => {
    link.addEventListener('click', function(e) {
      const pageName = this.textContent.trim();
      const url = this.href;
      
      if (this.target === '_blank') {
        // External links
        gtag('event', 'click', {
          event_category: 'External Link',
          event_label: pageName,
          value: 1,
          custom_parameter_destination: url
        });
      } else {
        // Internal navigation
        gtag('event', 'page_navigation', {
          event_category: 'Navigation',
          event_label: pageName,
          page_title: pageName,
          page_location: url
        });
      }
    });
  });
</script>

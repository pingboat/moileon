<!DOCTYPE html>

<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>moileon</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

```
    body {
        font-family: Georgia, serif;
        background-color: #f8f8f8;
        color: #333;
        line-height: 1.6;
    }

    .container {
        display: flex;
        min-height: 100vh;
    }

    .sidebar {
        width: 200px;
        background-color: #000080;
        padding: 20px;
        box-shadow: none;
        border-right: none;
    }

    .nav-button {
        display: block;
        width: 100%;
        padding: 8px 12px;
        margin-bottom: 2px;
        background-color: #4169E1;
        color: white;
        text-decoration: none;
        border: 1px solid #0000CD;
        border-radius: 0;
        font-size: 13px;
        font-weight: normal;
        text-align: left;
        transition: none;
        cursor: pointer;
        font-family: Verdana, Arial, sans-serif;
    }

    .nav-button:hover {
        background-color: #1E90FF;
        color: white;
    }

    .main-content {
        flex: 1;
        padding: 40px;
        text-align: center;
    }

    .logo-section {
        margin-bottom: 60px;
    }

    .logo-text {
        font-size: 32px;
        font-weight: normal;
        letter-spacing: 2px;
        margin-bottom: 20px;
        color: #333;
    }

    .lotus-image {
        margin: 20px 0;
    }

    .lotus-image img {
        width: 200px;
        height: auto;
        display: block;
        margin: 0 auto;
    }

    .quiz-section {
        max-width: 600px;
        margin: 0 auto;
    }

    .quiz-title {
        font-size: 32px;
        margin-bottom: 30px;
        color: #333;
    }

    .score {
        font-size: 18px;
        margin-bottom: 30px;
        color: #666;
    }

    .question {
        font-size: 20px;
        margin-bottom: 30px;
        color: #333;
    }

    .answer-input {
        width: 400px;
        padding: 12px 16px;
        border: 2px solid #ddd;
        border-radius: 6px;
        font-size: 16px;
        margin-bottom: 15px;
        background-color: white;
    }

    .answer-input:focus {
        outline: none;
        border-color: #87CEEB;
    }

    .instruction {
        font-size: 14px;
        color: #666;
        margin-bottom: 25px;
    }

    .button {
        background-color: #f0f0f0;
        border: 1px solid #ccc;
        border-radius: 6px;
        padding: 10px 20px;
        margin: 5px;
        font-size: 14px;
        cursor: pointer;
        transition: background-color 0.2s ease;
    }

    .button:hover {
        background-color: #e0e0e0;
    }

    .submit-btn {
        background-color: #87CEEB;
    }

    .submit-btn:hover {
        background-color: #6BB6D6;
    }

    /* Dynamic content sections */
    .content-section {
        max-width: 800px;
        margin: 40px auto;
        text-align: left;
        padding: 20px;
        background: white;
        border-radius: 8px;
        box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }

    .content-section h2 {
        color: #000080;
        margin-bottom: 20px;
        border-bottom: 2px solid #4169E1;
        padding-bottom: 10px;
    }

    .content-item {
        margin-bottom: 20px;
        padding: 15px;
        border-left: 4px solid #87CEEB;
        background: #f9f9f9;
    }

    .content-item h3 {
        margin-bottom: 10px;
        color: #333;
    }

    .content-item .date {
        color: #666;
        font-size: 0.9em;
        margin-bottom: 10px;
    }

    .loading {
        text-align: center;
        color: #666;
        font-style: italic;
    }

    .error {
        text-align: center;
        color: #cc0000;
        font-style: italic;
    }

    /* Quiz feedback styles */
    .feedback-correct {
        background-color: #d4edda;
        border: 1px solid #c3e6cb;
        color: #155724;
    }

    .feedback-incorrect {
        background-color: #f8d7da;
        border: 1px solid #f5c6cb;
        color: #721c24;
    }

    .feedback-explanation {
        background-color: #e2e3e5;
        border: 1px solid #d6d8db;
        color: #383d41;
    }
</style>
```

</head>
<body>
    <div class="container">
        <div class="sidebar">
            <a href="#" class="nav-button" onclick="showSection('home')">Home</a>
            <a href="https://moileon.in/articles.html" class="nav-button">Blog</a>
            <a href="#" class="nav-button" onclick="showSection('booknotes')">Booknotes</a>
            <a href="#" class="nav-button" onclick="showSection('projects')">Projects</a>
            <a href="#" class="nav-button" onclick="showSection('consulting')">Consulting</a>
            <a href="#" class="nav-button" onclick="showSection('podcast')">Podcast</a>
            <a href="#" class="nav-button" onclick="showSection('quotes')">Quotes</a>
            <a href="#" class="nav-button" onclick="showSection('bio')">Bio</a>
            <a href="https://www.linkedin.com/in/leonkaushik" class="nav-button" target="_blank">LinkedIn</a>
            <a href="https://x.com/iobyleon" class="nav-button" target="_blank">Twitter</a>
        </div>

```
    <div class="main-content">
        <!-- Home Section -->
        <div id="home" class="section active">
            <div class="logo-section">
                <div class="logo-text">ALL LIFE IS YOGA.</div>
                <div class="lotus-image" id="lotus-container">
                    <!-- Will be loaded dynamically from CMS -->
                    <div id="lotus-loading" style="text-align: center; color: #666; padding: 20px;">
                        <div>Loading lotus image...</div>
                        <div style="font-size: 12px; margin-top: 5px;">Trying multiple image paths...</div>
                    </div>
                </div>
            </div>

            <div class="quiz-section">
                <h1 class="quiz-title" id="quiz-title">Quest On!</h1>
                <div class="score" id="score-display">Score: <span id="current-score">0</span></div>
                <div class="question" id="quiz-question">Loading question...</div>
                
                <input type="text" class="answer-input" id="answer-input" placeholder="Type your answer here">
                <div class="instruction">Press Enter after typing your answer</div>
                
                <button class="button submit-btn" id="submit-btn">Submit Answer</button>
                <button class="button" id="show-answer-btn">Show me the answer</button>
                <button class="button" id="next-question-btn" style="display:none;">Next Question</button>
                
                <div id="quiz-feedback" style="display:none; margin-top:20px; padding:15px; border-radius:6px;"></div>
            </div>
        </div>

        <!-- Dynamic Content Sections -->
        <div id="blog" class="section content-section" style="display:none;">
            <h2>Blog Posts</h2>
            <div id="blog-content" class="loading">Loading blog posts...</div>
        </div>

        <div id="booknotes" class="section content-section" style="display:none;">
            <h2>Book Notes</h2>
            <div id="booknotes-content" class="loading">Loading book notes...</div>
        </div>

        <div id="projects" class="section content-section" style="display:none;">
            <h2>Projects</h2>
            <div id="projects-content" class="loading">Loading projects...</div>
        </div>

        <div id="quotes" class="section content-section" style="display:none;">
            <h2>Quotes</h2>
            <div id="quotes-content" class="loading">Loading quotes...</div>
        </div>

        <div id="consulting" class="section content-section" style="display:none;">
            <h2>Consulting</h2>
            <p>Consulting services information will be displayed here.</p>
        </div>

        <div id="podcast" class="section content-section" style="display:none;">
            <h2>Podcast</h2>
            <p>Podcast episodes and information will be displayed here.</p>
        </div>

        <div id="bio" class="section content-section" style="display:none;">
            <h2>Bio</h2>
            <p>Personal biography and information will be displayed here.</p>
        </div>
    </div>
</div>

<!-- Netlify Identity Widget -->
<script src="https://identity.netlify.com/v1/netlify-identity-widget.js"></script>

<script>
    // Quiz functionality
    let currentQuestions = [];
    let currentQuestionIndex = 0;
    let currentScore = 0;
    let quizSettings = {};

    // Navigation functionality
    function showSection(sectionId) {
        // Hide all sections
        const sections = document.querySelectorAll('.section');
        sections.forEach(section => {
            section.style.display = 'none';
        });
        
        // Show selected section
        document.getElementById(sectionId).style.display = 'block';
        
        // Load content if needed
        loadContent(sectionId);
    }

    // Load quiz questions and settings
    async function loadQuizData() {
        try {
            // Load quiz settings first
            await loadQuizSettings();
            
            // Load questions with better error handling
            console.log('Loading quiz questions from GitHub...');
            const response = await fetch('https://api.github.com/repos/pingboat/moileon/contents/content/quiz');
            
            if (response.ok) {
                const files = await response.json();
                console.log('Quiz files found:', files);
                
                currentQuestions = [];
                
                if (Array.isArray(files) && files.length > 0) {
                    for (const file of files) {
                        if (file.name.endsWith('.md')) {
                            console.log('Loading quiz file:', file.name);
                            const question = await loadQuizQuestion(file.download_url);
                            if (question && question.active !== false) {
                                currentQuestions.push(question);
                                console.log('Added question:', question.question);
                            }
                        }
                    }
                    
                    console.log('Total active questions loaded:', currentQuestions.length);
                    
                    if (currentQuestions.length > 0) {
                        if (quizSettings.random_questions) {
                            shuffleArray(currentQuestions);
                        }
                        loadCurrentQuestion();
                    } else {
                        console.log('No active questions found');
                        document.getElementById('quiz-question').innerHTML = '"No active quiz questions found. Create some in the admin panel!"';
                    }
                } else {
                    console.log('No quiz files found in content/quiz folder');
                    document.getElementById('quiz-question').innerHTML = '"Create quiz questions in the admin panel to get started!"';
                }
            } else {
                console.error('Failed to fetch quiz content:', response.status, response.statusText);
                // Fallback question if no quiz questions exist
                document.getElementById('quiz-question').innerHTML = '"Which approach is most effective for learning new concepts?"';
            }
        } catch (error) {
            console.error('Error loading quiz data:', error);
            document.getElementById('quiz-question').innerHTML = '"Error loading quiz questions. Check console for details."';
        }
    }

    // Load quiz settings
    async function loadQuizSettings() {
        try {
            const response = await fetch('https://api.github.com/repos/pingboat/moileon/contents/content/settings/quiz.md');
            if (response.ok) {
                const file = await response.json();
                const content = atob(file.content);
                quizSettings = parseMarkdownFrontMatter(content);
                
                // Update quiz title
                if (quizSettings.quiz_title) {
                    document.getElementById('quiz-title').textContent = quizSettings.quiz_title;
                }
            }
        } catch (error) {
            console.error('Error loading quiz settings:', error);
            // Use defaults
            quizSettings = {
                random_questions: true,
                questions_per_session: 1,
                show_explanations: true,
                enable_scoring: true
            };
        }
    }

    // Load individual quiz question
    async function loadQuizQuestion(url) {
        try {
            console.log('Fetching question from:', url);
            const response = await fetch(url);
            if (!response.ok) {
                console.error('Failed to fetch question file:', response.status);
                return null;
            }
            
            const text = await response.text();
            console.log('Raw question content:', text.substring(0, 200) + '...');
            
            const parsed = parseMarkdownFrontMatter(text);
            console.log('Parsed question data:', parsed);
            
            return parsed;
        } catch (error) {
            console.error('Error loading quiz question from', url, ':', error);
            return null;
        }
    }

    // Parse markdown front matter
    function parseMarkdownFrontMatter(text) {
        const parts = text.split('---');
        let frontMatter = {};
        let content = '';
        
        if (parts.length >= 3) {
            const frontMatterText = parts[1];
            content = parts.slice(2).join('---').trim();
            
            console.log('Front matter text:', frontMatterText);
            
            frontMatterText.split('\n').forEach(line => {
                if (line.includes(':')) {
                    const colonIndex = line.indexOf(':');
                    const key = line.substring(0, colonIndex).trim();
                    let value = line.substring(colonIndex + 1).trim();
                    
                    // Remove quotes
                    if ((value.startsWith('"') && value.endsWith('"')) || 
                        (value.startsWith("'") && value.endsWith("'"))) {
                        value = value.slice(1, -1);
                    }
                    
                    // Convert boolean and number values
                    if (value === 'true') value = true;
                    else if (value === 'false') value = false;
                    else if (!isNaN(value) && value !== '') value = Number(value);
                    
                    frontMatter[key] = value;
                    console.log('Parsed field:', key, '=', value);
                }
            });
        } else {
            console.log('No front matter found in content');
        }
        
        frontMatter.content = content;
        return frontMatter;
    }

    // Load lotus image from CMS
    async function loadLotusImage() {
        try {
            // Try direct image paths first
            const imagePaths = [
                '/assets/images/lotus.png',
                './assets/images/lotus.png',
                'assets/images/lotus.png'
            ];
            
            // Test each path
            for (const path of imagePaths) {
                const img = new Image();
                const success = await new Promise((resolve) => {
                    img.onload = () => resolve(true);
                    img.onerror = () => resolve(false);
                    img.src = path;
                    // Timeout after 3 seconds
                    setTimeout(() => resolve(false), 3000);
                });
                
                if (success) {
                    // Found working image path
                    const container = document.getElementById('lotus-container');
                    container.innerHTML = '';
                    
                    const finalImg = document.createElement('img');
                    finalImg.src = path;
                    finalImg.alt = 'Lotus with Om Symbol';
                    finalImg.style.width = '200px';
                    finalImg.style.height = 'auto';
                    finalImg.style.display = 'block';
                    finalImg.style.margin = '0 auto';
                    
                    container.appendChild(finalImg);
                    return;
                }
            }
            
            // If direct paths fail, try loading from CMS settings
            const response = await fetch('https://api.github.com/repos/pingboat/moileon/contents/content/settings/images.md');
            if (response.ok) {
                const file = await response.json();
                const content = atob(file.content);
                const imageData = parseMarkdownFrontMatter(content);
                
                if (imageData.lotus_image) {
                    // Try the CMS path
                    const img = new Image();
                    const success = await new Promise((resolve) => {
                        img.onload = () => resolve(true);
                        img.onerror = () => resolve(false);
                        img.src = imageData.lotus_image;
                        setTimeout(() => resolve(false), 3000);
                    });
                    
                    if (success) {
                        const container = document.getElementById('lotus-container');
                        container.innerHTML = '';
                        
                        const finalImg = document.createElement('img');
                        finalImg.src = imageData.lotus_image;
                        finalImg.alt = 'Lotus with Om Symbol';
                        finalImg.style.width = '200px';
                        finalImg.style.height = 'auto';
                        finalImg.style.display = 'block';
                        finalImg.style.margin = '0 auto';
                        
                        container.appendChild(finalImg);
                        return;
                    }
                }
            }
            
            // All attempts failed, show fallback
            console.log('All lotus image loading attempts failed, showing SVG fallback');
            showFallbackLotus();
            
        } catch (error) {
            console.error('Error loading lotus image:', error);
            showFallbackLotus();
        }
    }

    // Show fallback SVG lotus
    function showFallbackLotus() {
        const container = document.getElementById('lotus-container');
        container.innerHTML = `
            <svg width="200" height="120" viewBox="0 0 400 240" style="margin: 0 auto; display: block;">
                <g transform="translate(200, 120)">
                    <path d="M0,-80 C-15,-90 -25,-85 -30,-70 C-32,-55 -28,-40 -20,-25 C-15,-15 -8,-5 0,0 C8,-5 15,-15 20,-25 C28,-40 32,-55 30,-70 C25,-85 15,-90 0,-80Z" fill="black"/>
                    <path d="M-35,-65 C-50,-80 -65,-75 -70,-55 C-72,-35 -68,-20 -58,-10 C-48,-2 -35,0 -25,-5 C-20,-8 -18,-15 -22,-25 C-26,-40 -30,-55 -35,-65Z" fill="black"/>
                    <path d="M35,-65 C50,-80 65,-75 70,-55 C72,-35 68,-20 58,-10 C48,-2 35,0 25,-5 C20,-8 18,-15 22,-25 C26,-40 30,-55 35,-65Z" fill="black"/>
                    <path d="M-65,-25 C-85,-35 -95,-25 -95,0 C-95,25 -85,45 -70,50 C-55,55 -40,50 -30,35 C-25,25 -30,10 -40,-10 C-50,-20 -58,-25 -65,-25Z" fill="black"/>
                    <path d="M65,-25 C85,-35 95,-25 95,0 C95,25 85,45 70,50 C55,55 40,50 30,35 C25,25 30,10 40,-10 C50,-20 58,-25 65,-25Z" fill="black"/>
                    <path d="M-50,25 C-70,40 -70,60 -60,75 C-50,85 -35,90 -20,80 C-10,70 -5,50 -12,35 C-18,25 -35,15 -50,25Z" fill="black"/>
                    <path d="M50,25 C70,40 70,60 60,75 C50,85 35,90 20,80 C10,70 5,50 12,35 C18,25 35,15 50,25Z" fill="black"/>
                    <path d="M-25,55 C-40,75 -30,95 -15,100 C0,105 15,100 25,85 C30,70 25,55 15,50 C5,45 -5,50 -15,55 C-20,53 -22,54 -25,55Z" fill="black"/>
                    <path d="M25,55 C40,75 30,95 15,100 C0,105 -15,100 -25,85 C-30,70 -25,55 -15,50 C-5,45 5,50 15,55 C20,53 22,54 25,55Z" fill="black"/>
                    <path d="M-85,0 C-110,-15 -115,5 -105,25 C-95,40 -80,45 -65,35 C-58,30 -62,20 -75,10 C-80,5 -83,2 -85,0Z" fill="black"/>
                    <path d="M85,0 C110,-15 115,5 105,25 C95,40 80,45 65,35 C58,30 62,20 75,10 C80,5 83,2 85,0Z" fill="black"/>
                    <text x="0" y="12" text-anchor="middle" font-family="serif" font-size="32" font-weight="bold" fill="black">ॐ</text>
                </g>
            </svg>
        `;
    }

    // Shuffle array for random questions
    function shuffleArray(array) {
        for (let i = array.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [array[i], array[j]] = [array[j], array[i]];
        }
    }

    // Load current question
    function loadCurrentQuestion() {
        if (currentQuestions.length === 0) {
            console.log('No questions available to load');
            return;
        }
        
        const question = currentQuestions[currentQuestionIndex];
        console.log('Loading question:', question);
        
        if (question && question.question) {
            document.getElementById('quiz-question').innerHTML = `"${question.question}"`;
            console.log('Question displayed:', question.question);
        } else {
            console.error('Question object missing question field:', question);
            document.getElementById('quiz-question').innerHTML = '"Error: Question format invalid"';
        }
        
        // Reset UI
        document.getElementById('answer-input').value = '';
        document.getElementById('quiz-feedback').style.display = 'none';
        document.getElementById('next-question-btn').style.display = 'none';
        document.getElementById('submit-btn').disabled = false;
        document.getElementById('show-answer-btn').disabled = false;
    }

    // Check answer
    function checkAnswer(userAnswer) {
        if (currentQuestions.length === 0) return;
        
        const question = currentQuestions[currentQuestionIndex];
        const correct = question.correct_answer.toLowerCase().trim();
        const user = userAnswer.toLowerCase().trim();
        
        let isCorrect = user === correct;
        
        // Check alternative answers
        if (!isCorrect && question.alternative_answers) {
            isCorrect = question.alternative_answers.some(alt => 
                alt.toLowerCase().trim() === user
            );
        }
        
        const feedbackDiv = document.getElementById('quiz-feedback');
        let feedbackHTML = '';
        
        if (isCorrect) {
            if (quizSettings.enable_scoring) {
                currentScore += question.points || 10;
                document.getElementById('current-score').textContent = currentScore;
            }
            feedbackDiv.className = 'feedback-correct';
            feedbackHTML = `<strong>Correct!</strong> Great job!`;
        } else {
            feedbackDiv.className = 'feedback-incorrect';
            feedbackHTML = `<strong>Not quite.</strong> The answer is: "${question.correct_answer}"`;
        }
        
        // Show explanation if available and enabled
        if (quizSettings.show_explanations && question.explanation) {
            feedbackHTML += `<div style="margin-top:10px;"><strong>Explanation:</strong> ${question.explanation}</div>`;
        }
        
        feedbackDiv.innerHTML = feedbackHTML;
        feedbackDiv.style.display = 'block';
        
        // Disable submit button and show next question button
        document.getElementById('submit-btn').disabled = true;
        document.getElementById('show-answer-btn').disabled = true;
        
        if (currentQuestions.length > 1) {
            document.getElementById('next-question-btn').style.display = 'inline-block';
        }
    }

    // Show answer without submitting
    function showAnswer() {
        if (currentQuestions.length === 0) return;
        
        const question = currentQuestions[currentQuestionIndex];
        const feedbackDiv = document.getElementById('quiz-feedback');
        
        feedbackDiv.className = 'feedback-explanation';
        let feedbackHTML = `<strong>Answer:</strong> "${question.correct_answer}"`;
        
        if (question.explanation) {
            feedbackHTML += `<div style="margin-top:10px;"><strong>Explanation:</strong> ${question.explanation}</div>`;
        }
        
        feedbackDiv.innerHTML = feedbackHTML;
        feedbackDiv.style.display = 'block';
    }

    // Next question
    function nextQuestion() {
        currentQuestionIndex = (currentQuestionIndex + 1) % currentQuestions.length;
        loadCurrentQuestion();
    }

    // Load content from GitHub repository
    async function loadContent(type) {
        if (type === 'home') {
            loadQuizData();
            loadLotusImage(); // Load lotus image from CMS
            return;
        }
        
        try {
            const response = await fetch(`https://api.github.com/repos/pingboat/moileon/contents/content/${type}`);
            const files = await response.json();
            
            if (Array.isArray(files)) {
                const contentDiv = document.getElementById(`${type}-content`);
                contentDiv.innerHTML = '';
                
                for (const file of files) {
                    if (file.name.endsWith('.md')) {
                        await loadMarkdownFile(file.download_url, contentDiv, type);
                    }
                }
                
                if (contentDiv.innerHTML === '') {
                    contentDiv.innerHTML = `<p class="loading">No ${type} found yet. Create some in the admin panel!</p>`;
                }
            } else {
                document.getElementById(`${type}-content`).innerHTML = `<p class="loading">No ${type} found yet. Create some in the admin panel!</p>`;
            }
        } catch (error) {
            console.error('Error loading content:', error);
            document.getElementById(`${type}-content`).innerHTML = `<p class="error">Error loading ${type}. Content may not be published yet.</p>`;
        }
    }

    // Load and parse markdown files
    async function loadMarkdownFile(url, container, type) {
        try {
            const response = await fetch(url);
            const text = await response.text();
            
            // Parse front matter and content
            const parsedContent = parseMarkdownFrontMatter(text);
            const frontMatter = parsedContent;
            const content = parsedContent.content;
            
            // Create content item
            const item = document.createElement('div');
            item.className = 'content-item';
            
            let itemHTML = '';
            if (frontMatter.title) {
                itemHTML += `<h3>${frontMatter.title}</h3>`;
            }
            if (frontMatter.date) {
                itemHTML += `<div class="date">${new Date(frontMatter.date).toLocaleDateString()}</div>`;
            }
            if (frontMatter.author && type === 'blog') {
                itemHTML += `<div class="date">By ${frontMatter.author}</div>`;
            }
            if (frontMatter.book_author && type === 'booknotes') {
                itemHTML += `<div class="date">Author: ${frontMatter.book_author}</div>`;
            }
            if (frontMatter.quote && type === 'quotes') {
                itemHTML += `<blockquote>"${frontMatter.quote}"</blockquote>`;
                if (frontMatter.author) {
                    itemHTML += `<div class="date">— ${frontMatter.author}</div>`;
                }
            }
            
            // Add content (basic markdown to HTML)
            if (content) {
                const htmlContent = content
                    .replace(/^### (.*$)/gim, '<h3>$1</h3>')
                    .replace(/^## (.*$)/gim, '<h2>$1</h2>')
                    .replace(/^# (.*$)/gim, '<h1>$1</h1>')
                    .replace(/\*\*(.*)\*\*/gim, '<strong>$1</strong>')
                    .replace(/\*(.*)\*/gim, '<em>$1</em>')
                    .replace(/\n\n/gim, '</p><p>')
                    .replace(/\n/gim, '<br>');
                
                itemHTML += `<div><p>${htmlContent}</p></div>`;
            }
            
            item.innerHTML = itemHTML;
            container.appendChild(item);
            
        } catch (error) {
            console.error('Error loading markdown file:', error);
        }
    }

    // Event listeners
    document.addEventListener('DOMContentLoaded', function() {
        // Answer input
        const answerInput = document.getElementById('answer-input');
        answerInput.addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                submitAnswer();
            }
        });

        // Submit button
        document.getElementById('submit-btn').addEventListener('click', submitAnswer);

        // Show answer button
        document.getElementById('show-answer-btn').addEventListener('click', showAnswer);

        // Next question button
        document.getElementById('next-question-btn').addEventListener('click', nextQuestion);

        // Load home content by default
        showSection('home');
    });

    // Submit answer function
    function submitAnswer() {
        const answer = document.getElementById('answer-input').value.trim();
        if (answer) {
            checkAnswer(answer);
        } else {
            alert('Please enter an answer first.');
        }
    }

    // Netlify Identity initialization
    if (window.netlifyIdentity) {
        window.netlifyIdentity.on("init", user => {
            if (!user) {
                window.netlifyIdentity.on("login", () => {
                    document.location.href = "/admin/";
                });
            }
        });
    }
</script>
```

</body>
</html>
